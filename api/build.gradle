/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'java-library'
    id 'org.hidetake.swagger.generator' version '2.18.2'
}

dependencies {
    swaggerCodegen "io.swagger:swagger-codegen-cli:${versionCodegen}"
    api "de.grundid.opendatalab:geojson-jackson:${versionGeojson}"
    api "io.swagger:swagger-annotations:${versionSwagger}"
    api "com.fasterxml.jackson.core:jackson-core:${versionJackson}"
    api "com.fasterxml.jackson.core:jackson-annotations:${versionJackson}"
    api "com.fasterxml.jackson.core:jackson-databind:${versionJackson}"
    api "com.fasterxml.jackson.datatype:jackson-datatype-joda:${versionJackson}"
    api "javax.annotation:javax.annotation-api:${versionAnnotation}"
    api "io.github.openfeign:feign-core:9.4.0"
    api "io.github.openfeign:feign-jackson:9.4.0"
    compileOnly "org.apache.oltu.oauth2:org.apache.oltu.oauth2.client:1.0.1"

}

sourceSets.main.java.srcDirs = ['src/main/java', 'build/swagger/src/main/java']

swaggerSources {
	mowesta {
		inputFile = file('src/main/resources/mowesta.json') 	
		code {
			outputDir = file("${project.buildDir}/swagger")
			language = 'java'
			configFile = file('config.json')
			components = [ models: true, apis: 'Default']
            rawOptions = [ '--import-mappings', 'Geometry=org.geojson.Geometry']
		}
	}

}

compileJava.dependsOn('generateSwaggerCode')
